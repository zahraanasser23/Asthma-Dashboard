# -*- coding: utf-8 -*-
"""Asthma_Dashboard.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/12tmTccbaNgt7Sn5EqmBuXDZtutyCUYDi
"""

import streamlit as st
import pandas as pd
import plotly.express as px

# Define the data sets
data_sets = {
    "Death by Country": "https://github.com/zahraanasser23/Asthma-Dashboard/blob/main/asthma-deaths-by-county-1.csv",
    "ED visit rates LGHC": "https://github.com/zahraanasser23/Asthma-Dashboard/blob/main/asthma-ed-visit-rates-lghc-indicator-07-.csv",
    "Data Set 3": "https://data.world/chhs/5ea28f96-7bb6-4c18-9c0d-020484fab181"
}

# Function to load data set
def load_data(data_url):
    df = pd.read_csv(data_url)
    return df

# Function to plot bar chart
def plot_bar_chart(df, column):
    fig = px.bar(df, x=column)
    st.plotly_chart(fig)

# Function to plot scatter plot
def plot_scatter_plot(df, x_column, y_column):
    fig = px.scatter(df, x=x_column, y=y_column, color='Asthma', color_continuous_scale='RdBu')
    st.plotly_chart(fig)

# Set the app title
st.title("Asthma Data Set Dashboard")

# Create buttons for each data set
selected_data_set = st.radio("Select a Data Set", list(data_sets.keys()))

if st.button("Load Data Set"):
    st.write(f"Loading {selected_data_set}...")
    df = load_data(data_sets[selected_data_set])
    st.write(f"{selected_data_set} loaded successfully!")

    # Display the data set
    st.subheader("Data Set")
    st.dataframe(df)

    # Show descriptive statistics
    st.subheader("Descriptive Statistics")
    st.write(df.describe())

    # Show a bar chart
    st.subheader("Bar Chart")
    column_to_plot = st.selectbox("Select a Column for Bar Chart", df.columns)
    plot_bar_chart(df, column_to_plot)

    # Show a scatter plot
    st.subheader("Scatter Plot")
    x_column = st.selectbox("Select X Column for Scatter Plot", df.columns)
    y_column = st.selectbox("Select Y Column for Scatter Plot", df.columns)
    plot_scatter_plot(df, x_column, y_column)
