# -*- coding: utf-8 -*-
"""Asthma_Dashboard.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/12tmTccbaNgt7Sn5EqmBuXDZtutyCUYDi
"""

import streamlit as st
import pandas as pd
import plotly.express as px

# Function to load data set
def load_data(file):
    df = pd.read_csv(file)
    return df

# Function to plot bar chart
def plot_bar_chart(df, column):
    fig = px.bar(df, x=column)
    st.plotly_chart(fig)

# Function to plot scatter plot
def plot_scatter_plot(df, x_column, y_column):
    fig = px.scatter(df, x=x_column, y=y_column, color='Asthma', color_continuous_scale='RdBu')
    st.plotly_chart(fig)

# Set the app title
st.title("Asthma Data Set Dashboard")

# Create file uploader for each data set
file_1 = st.file_uploader("", type="csv")
file_2 = st.file_uploader("", type="csv")
file_3 = st.file_uploader("", type="csv")

# Load and process the selected data set
if st.button("Load Data Set"):
    if file_1 and file_2 and file_3:
        st.write("Loading data sets...")
        df_1 = load_data(file_1)
        df_2 = load_data(file_2)
        df_3 = load_data(file_3)
        st.write("Data sets loaded successfully!")

        # Display the data sets
        st.subheader("Data Set 1")
        st.dataframe(df_1)

        st.subheader("Data Set 2")
        st.dataframe(df_2)

        st.subheader("Data Set 3")
        st.dataframe(df_3)


# Function to load data set
def load_data(file):
    df = pd.read_csv(file)
    return df

# Function to plot bar chart
def plot_bar_chart(df, column):
    fig = px.bar(df, x=column)
    st.plotly_chart(fig)

# Function to plot scatter plot
def plot_scatter_plot(df, x_column, y_column):
    fig = px.scatter(df, x=x_column, y=y_column, color='Asthma', color_continuous_scale='RdBu')
    st.plotly_chart(fig)

# Set the app title
st.title("Asthma Data Set Dashboard")

# Load and process the selected data set
if st.button("Load Data Set"):
    if uploaded_files:
        for file in uploaded_files:
            st.write(f"Loading {file.name}...")
            df = load_data(file)
            st.write(f"{file.name} loaded successfully!")

            # Display the data set
            st.subheader("Data Set")
            st.dataframe(df)

            # Show descriptive statistics
            st.subheader("Descriptive Statistics")
            st.write(df.describe())

            # Show a bar chart
            st.subheader("Bar Chart")
            column_to_plot = st.selectbox("Select a Column for Bar Chart", df.columns)
            plot_bar_chart(df, column_to_plot)

            # Show a scatter plot
            st.subheader("Scatter Plot")
            x_column = st.selectbox("Select X Column for Scatter Plot", df.columns)
            y_column = st.selectbox("Select Y Column for Scatter Plot", df.columns)
            plot_scatter_plot(df, x_column, y_column)
